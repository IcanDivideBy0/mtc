{"version":3,"sources":["components/TextField.js","components/ProgressButton.js","pages/ContactPage.js"],"names":["TextInput","_ref","input","meta","props","Object","objectWithoutProperties","error","touched","submitError","helperText","react_default","a","createElement","index_es","assign","EMAIL_REGEX","TextField","_ref2","type","react_final_form_es","component","validate","value","required","test","parse","defaultProps","withStyles","theme","icon","marginRight","spacing","unit","classes","progress","Icon","disabled","children","size","color","className","ContactPage","onSubmit","asyncToGenerator","regenerator_default","mark","_callee","values","formData","url","wrap","_context","prev","next","FormData","append","name","email","message","concat","EMAIL","fetch","method","body","t0","abrupt","defineProperty","FORM_ERROR","toString","stop","this","_x","apply","arguments","_ref4","handleSubmit","submitting","submitSucceeded","noValidate","container","justify","item","xs","variant","label","fullWidth","multiline","Message","components_ProgressButton","SendIcon"],"mappings":"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","file":"static/js/pages-ContactPage.9846a57e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Field } from \"react-final-form\";\n\nimport { TextField as MuiTextField } from \"@material-ui/core\";\n\nfunction TextInput({ input, meta, ...props }) {\n  const error = meta.touched && (meta.error || meta.submitError);\n\n  const helperText =\n    meta.touched && (meta.error || meta.submitError)\n      ? meta.error || meta.submitError\n      : props.helperText;\n\n  return (\n    <MuiTextField\n      {...input}\n      {...props}\n      helperText={helperText}\n      error={!!error}\n    />\n  );\n}\n\nconst EMAIL_REGEX = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n\nexport default function TextField({ type, ...props }) {\n  return (\n    <Field\n      type={type}\n      component={TextInput}\n      validate={(value, ...args) => {\n        if (props.required && value == null) {\n          return \"Ce champ est obligatoire\";\n        }\n\n        if (type === \"email\" && !EMAIL_REGEX.test(value))\n          return \"L’adresse email est invalide\";\n      }}\n      parse={null}\n      {...props}\n    />\n  );\n}\n\nTextField.defaultProps = { type: \"text\" };\n","import React from \"react\";\nimport { withStyles, Button, CircularProgress } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  icon: {\n    marginRight: theme.spacing.unit,\n  },\n});\n\nfunction ProgressButton({\n  classes,\n  progress,\n  Icon,\n  disabled,\n  children,\n  ...props\n}) {\n  return (\n    <Button {...props} disabled={disabled || progress}>\n      {progress ? (\n        <CircularProgress size=\"1em\" color=\"inherit\" className={classes.icon} />\n      ) : (\n        Icon && <Icon className={classes.icon} />\n      )}\n\n      {children}\n    </Button>\n  );\n}\n\nexport default withStyles(styles)(ProgressButton);\n","import React from \"react\";\nimport { FORM_ERROR } from \"final-form\";\nimport { Form } from \"react-final-form\";\n\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { Send as SendIcon } from \"@material-ui/icons\";\n\nimport { EMAIL } from \"mtc/constants\";\nimport TextField from \"mtc/components/TextField\";\nimport Message from \"mtc/components/Message\";\nimport ProgressButton from \"mtc/components/ProgressButton\";\n\nexport default function ContactPage({ classes }) {\n  return (\n    <Form\n      onSubmit={async values => {\n        try {\n          const formData = new FormData();\n          formData.append(\"name\", values.name);\n          formData.append(\"email\", values.email);\n          formData.append(\"message\", values.message);\n\n          const url = `https://formspree.io/${EMAIL}`;\n          await fetch(url, { method: \"POST\", body: formData });\n        } catch (error) {\n          return { [FORM_ERROR]: error.toString() };\n        }\n      }}\n    >\n      {({ handleSubmit, submitting, submitError, submitSucceeded }) => (\n        <form onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={16} justify=\"flex-end\">\n            <Grid item xs={12}>\n              <Typography variant=\"h1\">Contact</Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField name=\"name\" required label=\"Nom\" fullWidth />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                name=\"email\"\n                type=\"email\"\n                required\n                label=\"Email\"\n                fullWidth\n              />\n            </Grid>\n\n            <Grid item xs={12}>\n              <TextField\n                name=\"message\"\n                required\n                label=\"Message\"\n                multiline\n                fullWidth\n              />\n            </Grid>\n\n            {submitError && (\n              <Grid item xs={12}>\n                <Message type=\"error\">\n                  <Typography color=\"inherit\">{submitError}</Typography>\n                </Message>\n              </Grid>\n            )}\n\n            {submitSucceeded && (\n              <Grid item xs={12}>\n                <Message type=\"success\">\n                  <Typography color=\"inherit\">\n                    Votre message a bien été envoyé !\n                  </Typography>\n                </Message>\n              </Grid>\n            )}\n\n            <Grid item>\n              <ProgressButton\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"secondary\"\n                progress={submitting}\n                Icon={SendIcon}\n              >\n                Envoyer\n              </ProgressButton>\n            </Grid>\n          </Grid>\n        </form>\n      )}\n    </Form>\n  );\n}\n"],"sourceRoot":""}